
Bootstrap: docker
From: ubuntu:18.04

%environment
    export LC_ALL=C
    unset LANGUAGE
    export PATH=$PATH:/opt/rocm/bin:/opt/rocm/profiler/bin:/opt/rocm/opencl/bin/x86_64

%runscript
    echo "This is what happens when you run the container..."
    bash ret benchmark tensorflow

%post
    echo Download RET Repository
    apt-get update
    apt-get install git -y
    git clone -b onDocker https://github.com/rocmsys/ret.git ~/ret
    cd ~/ret
    ./ret install tensorflow -y

%test
    cd ~/ret
    ./ret benchmark tensorflow

%help
    Singularity Ubuntu 18.04 container for ROCm.

